<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <!-- content-header component -->
    <app-content-header [contentHeader]="contentHeader"></app-content-header>

    <!-- Horizontal Wizard -->
    <section class="horizontal-wizard">
      <div id="stepper1" class="bs-stepper horizontal-wizard-example">
        <div class="bs-stepper-header">
          <div class="step" data-target="#account-details">
            <button class="step-trigger">
              <span class="bs-stepper-box">1</span>
              <span class="bs-stepper-label">
                <span class="bs-stepper-title">Paso 1</span>
                <span class="bs-stepper-subtitle">Definición y Clasificación</span>
              </span>
            </button>
          </div>
          <div class="line"><i data-feather="chevron-right" class="font-medium-2"></i></div>
          <div class="step" data-target="#personal-info">
            <button class="step-trigger">
              <span class="bs-stepper-box">2</span>
              <span class="bs-stepper-label">
                <span class="bs-stepper-title">Paso 2</span>
                <span class="bs-stepper-subtitle">Tipo de Inforació<nav></nav></span>
              </span>
            </button>
          </div>
          <div class="line"><i data-feather="chevron-right" class="font-medium-2"></i></div>
          <div class="step" data-target="#social-links">
            <button class="step-trigger">
              <span class="bs-stepper-box">3</span>
              <span class="bs-stepper-label">
                <span class="bs-stepper-title">Paso 3</span>
                <span class="bs-stepper-subtitle">Configuraciones Generales</span>
              </span>
            </button>
          </div>
        </div>
        <div class="bs-stepper-content">
          <form (ngSubmit)="(HWForm.form.valid)" #HWForm="ngForm">
            <div id="account-details" class="content">
              <form #accountDetailsForm="ngForm">

                <div class="row">
                  <div class="form-group col-md-4">
                    <label class="form-label" for="http">HTTP / Puerto</label>
                    <ng-select [items]="http" [(ngModel)]="xAPI.http" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Puerto HTTP"></ng-select>
                  </div>
                  <div class="form-group col-md-4">
                    <label class="form-label" for="https">HTTPS / Puerto</label>
                    <ng-select [items]="https" [(ngModel)]="xAPI.https" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Puerto HTTPS"></ng-select>
                  </div>
                  <div class="form-group col-md-4">
                    <label class="form-label" for="tipo">Tipo</label>
                    <ng-select [items]="tipo" [(ngModel)]="xAPI.tipo" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Tipo"></ng-select>
                  </div>
                </div>

                <div class="row">
                  <div class="form-group col-md-6">
                    <label class="form-label" for="https">Distribución</label>
                    <ng-select [items]="distribucion" [(ngModel)]="xAPI.distribucion" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Distribución"></ng-select>
                  </div>
                  <div class="form-group col-md-6">
                    <label class="form-label" for="http">Aplicación</label>
                    <ng-select [items]="ListaAplicaciones" [(ngModel)]="xAPI.prefijo" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Aplicación"></ng-select>
                  </div>
                  
                </div>

                <div class="row">
                  <div class="form-group col-md-4">
                    <label class="form-label" for="funcion">Función</label>
                    <input required type="text" name="last-names" id="last-names" class="form-control">
                  </div>
                  <div class="form-group col-md-2">
                    <label class="form-label" for="version">Versión</label>
                    <input [(ngModel)]="xAPI.version" [ngModelOptions]="{standalone: true}" [disabled]="true" required
                      type="text" name="last-namew" id="last-namew" class="form-control">
                  </div>
                  <div class="form-group col-md-6">
                    <label class="form-label" for="conexion">Conexión</label>
                    <ng-select [items]="drivers" bindLabel="name" bindId="id" bindValue="name"
                      placeholder="Seleccione Conexión"></ng-select>
                  </div>
                </div>

                <div class="row">
                  <div class="form-group col-md-4">
                    <label class="form-label" for="funcion">Categoria</label>
                    <ng-select [items]="categoria" [(ngModel)]="xAPI.categoria" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Categoria"></ng-select>
                  </div>
                  <div class="form-group col-md-4">
                    <label class="form-label" for="version">Funcionalidad</label>
                    <ng-select [items]="funcionalidad" [(ngModel)]="xAPI.funcionalidad"
                      [ngModelOptions]="{standalone: true}" bindLabel="name" bindId="id" bindValue="name"
                      bindLabel="name" bindValue="id" placeholder="Seleccione Funcionalidad"></ng-select>
                  </div>
                  <!-- <div class="form-group col-md-6">
                    <label class="form-label" for="conexion">Conexión</label>
                    <ng-select [items]="drivers"  bindLabel="name" bindId="id" bindValue="name"
                     placeholder="Seleccione Conexión"></ng-select>
                  </div> -->
                </div>

                <div class="row">
                  <div class="form-group col-md-12">
                    <label class="form-label" for="version">Descripción</label>
                    <textarea [(ngModel)]="xAPI.descripcion" rows="7" [ngModelOptions]="{standalone: true}" required
                      type="text" name="last-namew" id="last-namew" class="form-control"></textarea>
                  </div>
                </div>



                <div class="d-flex justify-content-between">
                  <button (click)="horizontalWizardStepperPrevious()" class="btn btn-outline-secondary btn-prev"
                    disabled rippleEffect>
                    <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                    <span class="align-middle d-sm-inline-block d-none">Atras</span>
                  </button>
                  <button (click)="horizontalWizardStepperNext(accountDetailsForm)" type="submit"
                    class="btn btn-primary btn-next" rippleEffect>
                    <span class="align-middle d-sm-inline-block d-none">Siguiente</span>
                    <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                  </button>
                </div>
              </form>
            </div>
            <div id="personal-info" class="content">
              <form #personalInfoForm="ngForm">

                <div class="row">
                  <div class="form-group col-md-4">
                    <label class="form-label" for="funcion">Metodo</label>
                    <ng-select [items]="metodo" [(ngModel)]="xAPI.metodo" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Metodo"></ng-select>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="form-label" for="version">Relacional</label>
                    <ng-select [items]="relacional" [(ngModel)]="xAPI.funcionalidad"
                      [ngModelOptions]="{standalone: true}" bindLabel="name" bindId="id" bindValue="name"
                      bindLabel="name" bindValue="id" placeholder="Seleccione Relacional"></ng-select>
                  </div>
                  <div class="form-group col-md-6">
                    <label class="form-label" for="conexion">Colección en caso de ser NOSQL</label>
                    <input type="text" [(ngModel)]="xAPI.coleccion" [ngModelOptions]="{standalone: true}"
                      class="form-control" placeholder="Coleccion">
                  </div>
                </div>

                <div class="row">
                  <div class="form-group col-md-4">
                    <label class="form-label" for="version">Nombre de la tabla</label>
                    <ng-select [items]="tabla" [(ngModel)]="xAPI.funcionalidad" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Relacional"></ng-select>
                  </div>

                  <div class="form-group col-md-2">
                    <label class="form-label" for="version">Tipo de dato</label>
                    <ng-select [items]="tabla" [(ngModel)]="xAPI.funcionalidad" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Tipo de dato"></ng-select>
                  </div>

                  <div class="form-group col-md-2">
                    <label class="form-label" for="funcion">Valor por defecto</label>
                    <input type="number" [(ngModel)]="xAPI.consumidores" [ngModelOptions]="{standalone: true}"
                      class="form-control" placeholder="Valor por defecto">
                  </div>

                  <div class="form-group col-md-4">
                    <label class="form-label" for="version">Condición</label>
                    <ng-select [items]="tabla" [(ngModel)]="xAPI.funcionalidad" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Condición"></ng-select>
                  </div>

                </div>

                <div class="row">
                  <div class="form-group col-md-4">
                    <label class="form-label" for="version">Nombre del campo</label>
                    <ng-select [items]="tabla" [(ngModel)]="xAPI.funcionalidad" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Campo"></ng-select>
                  </div>


                  <div class="form-group col-md-3">
                    <label class="form-label" for="funcion">Alias</label>
                    <input type="number" [(ngModel)]="xAPI.consumidores" [ngModelOptions]="{standalone: true}"
                      class="form-control" placeholder="Alias">
                  </div>

                  <div class="form-group col-md-4">
                    <label class="form-label" for="version">Tipo de dato</label>
                    <ng-select [items]="tabla" [(ngModel)]="xAPI.funcionalidad" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Tipo de dato"></ng-select>
                  </div>
                  <div class="form-group col-md-1" style="margin-top: 24px;">
                    <button class="btn btn-success">+</button>
                  </div>
                </div>

                <div class="row">
                  <div class="form-group col-md-12">
                    <label>Esquema de entrada:</label>
                    <div class="form-group text-justify">
                      <ngx-codemirror [ngModelOptions]="{standalone: true}" [(ngModel)]="xAPI.entradas"
                        [options]="codeJson">
                      </ngx-codemirror>
                    </div>
                  </div>

                  <div class="form-group col-md-12">
                    <label>Consulta / SQL / NOSQL </label>
                    <div class="form-group text-justify">
                        <!-- <ngx-codemirror
                            [ngModelOptions]="{standalone: true}" 
                            [(ngModel)]="xAPI.query"
                            [options]="codeSQL">
                        </ngx-codemirror> -->
                        <ngx-codemirror #codemirror aria-describedby="login-codigo" tabindex="1" autofocus
                      [options]="codeSQL"
              >
            </ngx-codemirror>
                    </div>
                  </div>

                </div>

                <div class="row">
                  <div class="form-group col-md-6">
                    <label class="form-label" for="version">Funciones</label>
                    <ng-select [items]="funciones" [(ngModel)]="xAPI.funcionalidad" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Funciones"></ng-select>
                  </div>


                  <div class="form-group col-md-6">
                    <label class="form-label" for="funcion">Agregar columna de la consulta</label>
                    <input type="text" [(ngModel)]="xAPI.consumidores" [ngModelOptions]="{standalone: true}"
                      class="form-control" placeholder="Agregar columna de la consulta">
                  </div>


                </div>


                <div class="d-flex justify-content-between">
                  <button type="button" (click)="horizontalWizardStepperPrevious()" class="btn btn-primary btn-prev"
                    rippleEffect>
                    <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                    <span class="align-middle d-sm-inline-block d-none">Atras</span>
                  </button>
                  <button (click)="horizontalWizardStepperNext(personalInfoForm)" class="btn btn-primary btn-next"
                    rippleEffect>
                    <span class="align-middle d-sm-inline-block d-none">Siguiente</span>
                    <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                  </button>
                </div>
              </form>
            </div>
            <div id="social-links" class="content">
              <form #socialLinkForm="ngForm">


                <div class="row">
                  <div class="form-group col-md-3">
                    <label class="form-label" for="funcion">Consumidores</label>
                    <input type="number" [(ngModel)]="xAPI.consumidores" [ngModelOptions]="{standalone: true}"
                      class="form-control" placeholder="Consumidores">
                  </div>
                  <div class="form-group col-md-3">
                    <label class="form-label" for="version">Cache</label>
                    <ng-select [items]="cache" [(ngModel)]="xAPI.cache" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Cache"></ng-select>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="form-label" for="conexion">Logs</label>
                    <ng-select [items]="logs" [(ngModel)]="xAPI.logs" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" placeholder="Seleccione Logs"></ng-select>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="form-label" for="conexion">Concurrente</label>
                    <ng-select [items]="concurrente" [(ngModel)]="xAPI.concurrencia"
                      [ngModelOptions]="{standalone: true}" bindLabel="name" bindId="id" bindValue="name"
                      placeholder="Seleccione Concurrente"></ng-select>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="form-label" for="conexion">Retorno</label>
                    <ng-select [items]="retorno" [(ngModel)]="xAPI.retorna" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" placeholder="Seleccione Retorno"></ng-select>
                  </div>
                </div>

                <div class="row">
                  <div class="form-group col-md-3">
                    <label class="form-label" for="http">Tiempo Max Consumo</label>
                    <ng-select [items]="http" [(ngModel)]="xAPI.http" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Tiempo Max"></ng-select>
                  </div>

                  <div class="form-group col-md-3">
                    <label class="form-label" for="funcion">Prioridad</label>
                    <ng-select [items]="prioridad" [(ngModel)]="xAPI.prioridad" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Prioridad"></ng-select>
                  </div>
                  <div class="form-group col-md-3">
                    <label class="form-label" for="version">Entorno</label>
                    <ng-select [items]="entorno" [(ngModel)]="xAPI.entorno" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Entorno"></ng-select>
                  </div>
                  <div class="form-group col-md-3">
                    <label class="form-label" for="conexion">Aplicar Waf</label>
                    <ng-select [items]="waf" [(ngModel)]="xAPI.accion" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" placeholder="Seleccione Aplicar Waf"></ng-select>
                  </div>
                </div>

                <div class="row">
                  <div class="form-group col-md-3">
                    <label class="form-label" for="http">Estatus</label>
                    <ng-select [items]="estatus" [(ngModel)]="xAPI.http" [ngModelOptions]="{standalone: true}"
                      bindLabel="name" bindId="id" bindValue="name" bindLabel="name" bindValue="id"
                      placeholder="Seleccione Estatus"></ng-select>
                  </div>
                </div>

                <div class="row">
                  <div class="form-group col-md-12">
                    <label class="form-label" for="version">URL</label>
                    <input required type="text" name="last-namew" [disabled]="true" placeholder="http://...:xxxx/..."
                      id="last-namew" class="form-control">
                  </div>
                </div>

                <div class="d-flex justify-content-between">
                  <button type="button" (click)="horizontalWizardStepperPrevious()" class="btn btn-primary btn-prev"
                    rippleEffect>
                    <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                    <span class="align-middle d-sm-inline-block d-none">Atras</span>
                  </button>
                  <button class="btn btn-success btn-submit" (click)="RegistrarAPI()" rippleEffect>Guardar</button>
                </div>
              </form>
            </div>
          </form>
        </div>
      </div>
    </section>
    <!--/ Horizontal Wizard -->

  </div>
</div>